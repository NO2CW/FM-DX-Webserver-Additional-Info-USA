document.addEventListener('DOMContentLoaded', function() {
    function createAdditionalInfoContainer() {
        let additionalInfoContainer = document.getElementById('additional-info-container');
        if (!additionalInfoContainer) {
            additionalInfoContainer = document.createElement('div');
            additionalInfoContainer.id = 'additional-info-container';
            additionalInfoContainer.className = 'panel-33 hover-brighten';
            additionalInfoContainer.style.height = '100px';
            additionalInfoContainer.innerHTML = `
                <h2 style="margin-top: 4px;">INFO</h2>
                <div id="additional-info">
                    <span></span>
                </div>
                <hr class="hide-desktop">
            `;
            const rtContainer = document.getElementById('rt-container');
            if (rtContainer) {
                rtContainer.parentNode.insertBefore(additionalInfoContainer, rtContainer.nextSibling);
            } else {
                document.body.appendChild(additionalInfoContainer);
            }
        }
        return additionalInfoContainer;
    }

    function updateAdditionalInfo() {
        const piCode = document.getElementById('data-pi') ? document.getElementById('data-pi').textContent.trim() : 'Default PI Code';
        const piCodeMappings = {
            "1313": "WFLZ-FM-TAMPA,FL-97 kW",
"1349": "WXSR-QUINCY,FL-37 kW",
"1353": "WXTB-CLEARWATER,FL-100 kW",
"1395": "WRUB-SARASOTA,FL-13 kW",
"1528": "WMIA-FM-MIAMI BEACH,FL-98 kW",
"1529": "WMIB-FORT LAUDERDALE,FL-98 kW",
"1947": "WRLX-RIVIERA BEACH,FL-50 kW",
"1949": "WBTP-CLEARWATER,FL-100 kW",
"1E37": "WJRR COCOA BEACH, FL-95 kW",
"5543": "WAFZ-FM-IMMOKALEE,FL-5.6 kW",
"5583": "WAIL-KEY WEST,FL-100 kW",
"5606": "WANM-TALLAHASSEE,FL-0 Watts",
"5614": "WAOA-FM-MELBOURNE,FL-100 kW",
"5632": "WAPE-FM-JACKSONVILLE,FL-100 kW",
"5670": "WARO-NAPLES,FL-99 kW",
"5685": "WASJ-PANAMA CITY BEACH,FL-50 kW",
"5721": "WAYJ-NAPLES,FL-100 kW",
"5727": "WAYP-MARIANNA,FL-750 Watts",
"5812": "WBHQ-BEVERLY BEACH,FL-5.7 kW",
"5816": "WBHU-ST. AUGUSTINE BEACH,FL-17 kW",
"5979": "WBVL-LP-KISSIMMEE,FL-16 Watts",
"6223": "WFCT-APALACHICOLA,FL-50 kW",
"6269": "WFFL-PANAMA CITY,FL-1.5 kW",
"62FC": "WFLC-HITS 97.3 MIAMI,FL-100 kW",
"6303": "WFLJ-FROSTPROOF,FL-0 Watts",
"6305": "W296DK-FT LAUDERDALE,FL-100 Watts",
"6306": "WFLM-PALM BEACH SHORES,FL-50 kW",
"6464": "WFYY-WINDERMERE,FL-22 kW",
"6681": "WGTT-EMERALDA,FL-1.1 kW",
"6755": "WHBX-TALLAHASSEE,FL-37 kW",
"6797": "WHEL-SANIBEL,FL-43 kW",
"6839": "WHKR-ROCKLEDGE,FL-50 kW",
"6896": "WHOG-FM-ORMOND-BY-THE-SEA,FL-48 kW",
"6917": "WHTF-HAVANA,FL-29 kW",
"7108": "WKTK-CRYSTAL RIVER,FL-100 kW",
"7139": "WKVH-MONTICELLO,FL-1.5 kW",
"7158": "WKWM-MARATHON,FL-12 kW",
"7199": "WKYZ-KEY COLONY BEACH,FL-100 kW",
"7303": "WJNX-FM-OKEECHOBEE,FL-12.5 kW",
"7335": "WLOV-FM-DAYTONA BEACH SHORES,FL-5.5 kW",
"7429": "WLYF-Lite FM MIAMI,FL-100 kW",
"7489": "WMBX-X102.3 JENSEN BEACH,FL-100 kW",
"7567": "WMKL-HAMMOCKS,FL-50 kW",
"7745": "WNCV-SHALIMAR,FL-50 kW",
"7810": "WNKQ-LP-KISSIMMEE,FL-22 Watts",
"7908": "WNUE-FM-DELTONA,FL-50 kW",
"8162": "WQYK-FM-ST. PETERSBURG,FL-99 kW",
"8236": "WXCZ-CEDAR KEY,FL-31 kW",
"8302": "WROK-FM-SEBASTIAN,FL-25 kW",
"8388": "WRTO-Mix 98.3 GOULDS,FL-100 kW",
"8399": "WRUF-FM-GAINESVILLE,FL-100 kW",
"8451": "WSBH-SATELLITE BEACH,FL-25 kW",
"8463": "WSBZ-MIRAMAR BEACH,FL-6 kW",
"8469": "WSCF-FM-VERO BEACH,FL-15.5 kW",
"8579": "WSMR-SARASOTA,FL-54 kW",
"8603": "WSRZ-FM-CORAL COVE,FL-47 kW",
"8645": "WSUN-HOLIDAY,FL-11.5 kW",
"8703": "WTBV-SAINT PETERSBURG,FL-100 kW",
"8775": "WTGF-MILTON,FL-24 kW",
"8802": "WTLQ-FM-PUNTA RASSA,FL-14.5 kW",
"8812": "WTMG-WILLISTON,FL-3.5 kW",
"8911": "W224CF-AUBURNDALE,FL-250 Watts",
"8956": "WTYS-FM-MARIANNA,FL-6 kW",
"9035": "WWOJ-AVON PARK,FL-10 kW",
"9278": "WZEU-LP-WEEKI WACHEE,FL-12 Watts",
"9582": "WYOO-SPRINGFIELD,FL-12 kW",
"9624": "WYUU-SAFETY HARBOR,FL-50 kW",
"9739": "W228BY- Revolution 93.5 MIAMI,FL-250 Watts",
"9810": "WZNS-FORT WALTON BEACH,FL-100 kW",
"9827": "WZOP-LP-FORT LAUDERDALE,FL-22 Watts",
"123D": "WRGV-PENSACOLA,FL-50 kW",
"12C1": "WRLX-MIA 94.3 RIVIERA BEACH,FL-7.2 kW",
"12FA": "WTNT-FM-TALLAHASSEE,FL-98 kW",
"12FF": "WFLF-FM-PARKER,FL-100 kW",
"13A0": "WRUM-Rumba 100.3 ORLANDO,FL-95 kW",
"13C5": "WXXL-TAVARES,FL-100 kW",
"165D": "WMTX-TAMPA,FL-96 kW",
"17AF": "WZJZ-PORT CHARLOTTE,FL-84 kW",
"17EE": "WBGG-FM-FORT LAUDERDALE,FL-100 kW",
"17EF": "WTKX-FM-PENSACOLA,FL-100 kW",
"18AE": "WZTU-TU 94.9 MIAMI BEACH,FL-100 kW",
"199C": "WHYI-Y100 Miami's #1 Hit Music FORT LAUDERDALE,FL-98 kW",
"1AD7": "WOLZ-FORT MYERS,FL-79 kW",
"1B07": "WCKT-LEHIGH ACRES,FL-23.5 kW",
"1BEE": "WCTQ-VENICE,FL-11.5 kW",
"1C53": "WPAP-PANAMA CITY,FL-100 kW",
"1C99": "WJBT-CALLAHAN,FL-50 kW",
"1FBD": "WKGR-WELLINGTON,FL-100 kW",
"2FE1": "W242CI-JUPITER,FL-201 Watts",
"3D44": "WEYS-LD-MIAMI,FL-3 kW",
"54C1": "WAAZ-FM-CRESTVIEW,FL-100 kW",
"552C": "W203BT-VERO BEACH,FL-0 Watts",
"55F1": "WAMR- AMOR 107.5-MIAMI,FL-93 kW",
"563B": "WAPN-HOLLY HILL,FL-1.8 kW",
"565D": "WAQV-CRYSTAL RIVER,FL-5 kW",
"56D4": "WAVK-CUDJOE KEY,FL-100 kW",
"56DF": "WAVV-NAPLES PARK,FL-100 kW",
"571D": "WAYF-WEST PALM BEACH,FL-50 Watts",
"57ED": "WBGF-BELLE GLADE,FL-24 kW",
"58D4": "WBPC-EBRO,FL-21 kW",
"597A": "WBVM-TAMPA,FL-100 kW",
"59DA": "WBZE-TALLAHASSEE,FL-99.2 kW",
"5A73": "WCFB-DAYTONA BEACH,FL-97.5 kW",
"5AC4": "WCIE-NEW PORT RICHEY,FL-10 kW",
"5B38": "WCMQ-FM-HIALEAH,FL-20.2 kW",
"5B4C": "WCNK-KEY WEST,FL-100 kW",
"5B50": "WCNO-PALM CITY,FL-100 kW",
"5BB3": "WCRJ-JACKSONVILLE,FL-8 kW",
"5BE5": "WCTH-Thunder Country PLANTATION KEY,FL-100 kW",
"5DC7": "WDLV-FM-FORT MYERS,FL-75 kW",
"5DE6": "WDNA-MIAMI,FL-7.4 kW",
"5EB1": "WDUV-NEW PORT RICHEY,FL-33 kW",
"5F6B": "WEBZ-MEXICO BEACH,FL-50 kW",
"5F7C": "WECQ-DESTIN,FL-19 kW",
"5F97": "WEDR-99 JAMZ MIAMI,FL-92 kW",
"5FE6": "WEGS-MILTON,FL-20 kW",
"61CA": "WEZI-JACKSONVILLE,FL-98.8 kW",
"625D": "WFEZ-Easy 93.1 MIAMI,FL-98 kW",
"62BF": "WFIT-MELBOURNE,FL-4.7 kW",
"62F9": "WFKZ-PLANTATION KEY,FL-100 kW",
"630F": "WFLV-WEST PALM BEACH,FL-38 kW",
"639B": "WFRU-QUINCY,FL-0 Watts",
"63C0": "WFSQ-TALLAHASSEE,FL-86 kW",
"63C4": "WFSU-FM-TALLAHASSEE,FL-90 kW",
"63C6": "WFSW-PANAMA CITY,FL-100 kW",
"63C7": "WFSX-FM-ESTERO,FL-20.5 kW",
"63F6": "WFUS-GULFPORT,FL-66 kW",
"64C8": "WGCU-NPR for SW Florida -FORT MYERS,FL-4.4 kW",
"65A3": "WGLF-TALLAHASSEE,FL-100 kW",
"65B8": "WCYZ-SILVER SPRINGS SHORE,FL-2 kW",
"65CE": "WHGV-GAINESVILLE,FL-2.3 kW",
"65CF": "WGMX-MARATHON,FL-26.5 kW",
"65D1": "WKEZ-FM-TAVERNIER,FL-25 kW",
"65D6": "WGNE-FM-MIDDLEBURG,FL-48 kW",
"65DC": "WGNK-La Nueva 88.3 PENNSUCO,FL-6 kW",
"665A": "WGSG-MAYO,FL-2.5 kW",
"666B": "WGSX-LYNN HAVEN,FL-4.1 kW",
"668D": "WGUF-MARCO,FL-6 kW",
"66FB": "WGYL-VERO BEACH,FL-50 kW",
"67CD": "WHGN-CRYSTAL RIVER,FL-41 kW",
"67F3": "WHHZ-NEWBERRY,FL-44 kW",
"67FD": "WHIJ-OCALA,FL-1.25 kW",
"68BD": "WHPT-SARASOTA,FL-100 kW",
"68D7": "WHQT-Hot 105! CORAL GABLES,FL-98 kW",
"69AA": "WHWY-HOLT,FL-100 kW",
"69AD": "WHYZ-PALM COAST,FL-9.2 kW",
"6ACF": "WIKD-LP-DAYTONA BEACH,FL-94 Watts",
"6AE3": "WIKX-CHARLOTTE HARBOR,FL-100 kW",
"6B24": "WINK-FM-FORT MYERS,FL-100 kW",
"6B8C": "WIRK-INDIANTOWN,FL-90 kW",
"6C9D": "WWCN-FORT MYERS BEACH,FL-45 kW",
"6CB3": "WJCT-FM-JACKSONVILLE,FL-98 kW",
"6CF5": "WJFH-SEBRING,FL-2 kW",
"6CFF": "WJFR-JACKSONVILLE,FL-12 kW",
"6D13": "WJGL-JACKSONVILLE,FL-98.8 kW",
"6D16": "WJGO-TICE,FL-96 kW",
"6D4E": "WJIS-BRADENTON,FL-100 kW",
"6D73": "WJKD-VERO BEACH,FL-50 kW",
"6D85": "WJKV-JACKSONVILLE,FL-41 kW",
"6D8F": "WJLF-GAINESVILLE,FL-2.55 kW",
"6D9E": "WJLU-NEW SMYRNA BEACH,FL-10 kW",
"6E0D": "WGHR-SPRING HILL,FL-25 kW",
"6E5F": "WJTF-PANAMA CITY,FL-100 kW",
"6ECD": "WJXL-FM-JACKSONVILLE BEACH,FL-1.7 kW",
"6F8A": "WKES-LAKELAND,FL-100 kW",
"6FAE": "WKGC-FM-PANAMA CITY,FL-18.5 kW",
"6FF2": "WKIS-Kiss Country 99.9 BOCA RATON,FL-98.4 kW",
"710C": "WKTO-EDGEWATER,FL-0 Watts",
"71A6": "WKZM-SARASOTA,FL-6 kW",
"71CD": "WLAZ-KISSIMMEE,FL-0 Watts",
"720A": "WLDI-Wild 95.5 JUNO BEACH,FL-100 kW",
"723A": "WLFE-CUTLER BAY,FL-0 Watts",
"72EA": "WLLY-FM-PALM BEACH GARDENS,FL-6 kW",
"72F7": "WLML-LAKE PARK,FL-4 kW",
"735B": "W226CI-CHIEFLAND,FL-250 Watts",
"737B": "WLRN-FM-MIAMI,FL-47 kW",
"738D": "WLSF-FM-STARKE,FL-7 kW",
"73DB": "WLVF-FM-HAINES CITY,FL-750 Watts",
"74D9": "WMEZ-PENSACOLA,FL-77 kW",
"74DE": "WMFE-FM-ORLANDO,FL-100 kW",
"74EA": "WMFQ-OCALA,FL-50 kW",
"74EF": "WMFV-CEDAR CREEK,FL-22 kW",
"758B": "WMLV-Positive, Encouraging K-LOVE -100 kW",
"759E": "WMMO-ORLANDO,FL-44 kW",
"75AF": "WMNF-TAMPA,FL-6.65 kW",
"760D": "WMQV-LP-KISSIMMEE,FL-80 Watts",
"76B7": "WMXJ-102.7 The Beach POMPANO BEACH,FL-98 kW",
"76CC": "WMYE-FORT MYERS,FL-1.05 kW",
"76E1": "WMYZ-THE VILLAGES,FL-35 kW",
"775D": "WNDD-ALACHUA,FL-3.2 kW",
"777F": "WNFB-LAKE CITY,FL-50 kW",
"785F": "W225BI-STOCKADE,FL-99 Watts",
"78C5": "W222BR-PENSACOLA,FL-250 Watts",
"7A1F": "WOEX-ORLANDO,FL-99 kW",
"7A46": "WOGK-OCALA,FL-100 kW",
"7A71": "WOIB-LP-OAKLAND PARK,FL-80 Watts",
"7AB9": "WOKV-FM-ATLANTIC BEACH,FL-98.8 kW",
"7B02": "W258DD-ORLANDO,FL-166 Watts",
"7B81": "WOSN-INDIAN RIVER SHORES,FL-23 kW",
"7B83": "W292DZ-ORLANDO,FL-215 Watts",
"7C22": "WOYS-CARRABELLE,FL-100 kW",
"7C5F": "WPBB-HOLMES BEACH,FL-47 kW",
"7C6F": "W241AX-BOCA RATON,FL-250 Watts",
"7C7D": "W226CJ-PANAMA CITY,FL-230 Watts",
"7C8A": "WPCS-PENSACOLA,FL-95 kW",
"7CD1": "WPFL-CENTURY,FL-8.6 kW",
"7CD2": "WPFM-PANAMA CITY,FL-98.5 kW",
"7D0B": "WPHR-FM-GIFFORD,FL-50 kW",
"7D22": "WPIO-TITUSVILLE,FL-7.1 kW",
"7D6D": "WPLL-CROSS CITY,FL-100 kW",
"7DC6": "WPOW-Power96 MIAMI,FL-98 kW",
"7DC9": "WPOZ-ORLANDO,FL-98.4 kW",
"7EC2": "WPYO-MAITLAND,FL-12 kW",
"7F2E": "WQCS-FORT PIERCE,FL-100 kW",
"7FA9": "WQHL-FM-LIVE OAK,FL-50 kW",
"81A5": "WRAZ-FM-LEISURE CITY,FL-50 kW",
"81A6": "WRBA-SPRINGFIELD,FL-50 kW",
"81B6": "WRBQ-FM-TAMPA,FL-99 kW",
"82C4": "WRMA-NORTH MIAMI BEACH,FL-17 kW",
"82C5": "WRMB-BOYNTON BEACH,FL-100 kW",
"82C9": "WRMF-PALM BEACH,FL-100 kW",
"835D": "WRRX-GULF BREEZE,FL-5.1 kW",
"83EC": "WRXK-96k-ROCK-BONITA SPRINGS,FL-100 kW",
"83F8": "WRXW-LP-WINTER PARK,FL-27 Watts",
"84C4": "WSFS-FM-MIRAMAR,FL-100 kW",
"84D7": "WSGL-NAPLES,FL-20 kW",
"85AD": "WSOR-NAPLES,FL-36 kW",
"85FA": "WVIJ-PORT CHARLOTTE,FL-9 kW",
"87B5": "WTIR-BRIGHTON RESERVATION,FL-2.8 kW",
"881B": "WTMP-FM-DADE CITY,FL-2.8 kW",
"88B4": "WTSM-WOODVILLE,FL-6 kW",
"89B1": "WUCF-FM-ORLANDO,FL-360 Watts",
"8A0A": "WUFQ-CROSS CITY,FL-12 kW",
"8A0D": "WUFT-FM-GAINESVILLE,FL-100 kW",
"8A25": "WUGR-LP-MIRAMAR,FL-100 Watts",
"8A97": "WULB-LP-LONG BOAT KEYS,FL-100 Watts",
"8B3F": "WURN-W280FV MIAMI,FL-100 Watts",
"8B51": "WUSF-TAMPA,FL-69 kW",
"8BB9": "WUWF-PENSACOLA,FL-100 kW",
"8CB0": "WVFS-TALLAHASSEE,FL-0 Watts",
"8CB1": "WVFT-GRETNA,FL-8.7 kW",
"8CC2": "WVGK-LP-MIAMI,FL-100 Watts",
"8D4A": "WVLQ-PORT ST. JOE,FL-3.3 kW",
"8E8D": "WVYB-HOLLY HILL,FL-6 kW",
"8ED5": "WWAV-SANTA ROSA BEACH,FL-50 kW",
"8F6D": "WWGR-Gator Country FORT MYERS,FL-100 kW",
"8FC4": "WWKA-ORLANDO,FL-99 kW",
"8FF6": "WWLY-PANAMA CITY BEACH,FL-12 kW",
"918A": "WXBM-FM-MILTON,FL-100 kW",
"91BB": "WXDJ-El Zol 106.7 FORT LAUDERDALE,FL-98 kW",
"920B": "WXGL-ST. PETERSBURG,FL-100 kW",
"922D": "WXHT-MADISON,FL-19 kW",
"924F": "WXJB-HOMOSASSA,FL-9.2 kW",
"927E": "WXKW-KEY WEST,FL-680 Watts",
"931E": "WXRA-INGLIS,FL-3.7 kW",
"936A": "WXTY-LAFAYETTE,FL-1.9 kW",
"937E": "WXUS-DUNNELLON,FL-50 kW",
"93C3": "WHJX-PONTE VEDRA BEACH,FL-6 kW",
"944F": "WYCT-PENSACOLA,FL-100 kW",
"948E": "WYFE-TARPON SPRINGS,FL-60 kW",
"968F": "WYYX-BONIFAY,FL-100 kW",
"973F": "WZFR-EASTPOINT,FL-11.5 kW",
"97CB": "WZLB-VALPARAISO,FL-50 kW",
"A627": "WEJF-PALM BAY,FL-300 Watts",
"A63B": "WEJZ-JACKSONVILLE,FL-100 kW",
"A6BA": "WEOW-KEY WEST,FL-100 kW",
"A7AD": "WKPX-SUNRISE,FL-3 kW",
"A7D8": "WKRO-FM-PORT ORANGE,FL-24.5 kW",
"A7F0": "WKSM-FORT WALTON BEACH,FL-50 kW",
"A85F": "WQOL-VERO BEACH,FL-50 kW",
"A931": "WWOF-TALLAHASSEE,FL-100 kW",
"A97F": "W245AY-LAKE WORTH,FL-100 Watts",
"A986": "WWRM-TAMPA,FL-97.3 kW",
"A9DA": "WWUS-BIG PINE KEY,FL-100 kW",
"D11B": "W273CA-ORLANDO,FL-250 Watts",
"D147": "W226BT-ORLANDO,FL-250 Watts",
"D336": "W288DD-TAMARAC,FL-85 Watts",
"D3AF": "W284CS-MIAMI,FL-100 Watts",
"D424": "W291BV-PALM COAST,FL-4 kW",
"D474": "W295AZ-JACKSONVILLE BEACH,FL-99 Watts",
"D481": "W227CX-NORTH PALM BEACH,FL-132 Watts",
"D4B8": "W283AN-ALTAMONTE SPRINGS,FL-221 Watts",
"F000": "W250CE-KISSIMMEE,FL-250 Watts",
        };
        const additionalInfo = piCodeMappings[piCode];
        const additionalInfoElement = document.getElementById('additional-info').querySelector('span');
        if (additionalInfo) {
            additionalInfoElement.textContent = additionalInfo;
        } else {
            additionalInfoElement.textContent = ' ';
        }
    }

    createAdditionalInfoContainer(); // Setup our custom info panel
    updateAdditionalInfo(); // Populate it initially
    setInterval(updateAdditionalInfo, 3000); // Update info every 3000 ms
});

// New functionality to hide the data-station-container
document.addEventListener('DOMContentLoaded', function() {
    var container = document.getElementById('data-station-container');
    if (container && container.parentNode) {
        container.parentNode.style.display = 'none';
    }
});
document.addEventListener('DOMContentLoaded', function() {
    var panel = document.querySelector('.panel-10.bg-none .panel-100');
    if (panel) {
        panel.style.display = 'none';
    }
});
